(this["webpackJsonpfront-courses-api"]=this["webpackJsonpfront-courses-api"]||[]).push([[0],{33:function(e,t,r){},40:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(2),s=r.n(a),c=r(22),o=r.n(c),i=(r(33),r(4)),l=r(3),d=r(5),u=r.n(d),x=r(12),j=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_BASE_URL||"https://course-api-express.herokuapp.com/api/",b=function(){var e=Object(x.a)(u.a.mark((function e(){var t,r,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"courses",r=a.length>1?a[1]:void 0,e.prev=2,e.next=5,fetch(j+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 5:return n=e.sent,e.abrupt("return",n.json());case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(x.a)(u.a.mark((function e(){var t,r,n,a,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"courses/",r=s.length>1?s[1]:void 0,n=s.length>2?s[2]:void 0,e.prev=3,e.next=6,fetch(j+t+r,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 6:return a=e.sent,e.abrupt("return",a.json());case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(x.a)(u.a.mark((function e(){var t,r,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"courses/",r=a.length>1?a[1]:void 0,e.prev=2,e.next=5,fetch(j+t+r,{method:"DELETE",headers:{"Content-Type":"application/json"}});case 5:return n=e.sent,e.abrupt("return",n.json());case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(x.a)(u.a.mark((function e(){var t,r,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"authors",r=a.length>1?a[1]:void 0,e.prev=2,e.next=5,fetch(j+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 5:return n=e.sent,e.abrupt("return",n.json());case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(x.a)(u.a.mark((function e(){var t,r,n,a,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"authors/",r=s.length>1?s[1]:void 0,n=s.length>2?s[2]:void 0,e.prev=3,e.next=6,fetch(j+t+r,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 6:return a=e.sent,e.abrupt("return",a.json());case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(x.a)(u.a.mark((function e(){var t,r,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"authors/",r=a.length>1?a[1]:void 0,e.prev=2,e.next=5,fetch(j+t+r,{method:"DELETE",headers:{"Content-Type":"application/json"}});case 5:return n=e.sent,e.abrupt("return",n.json());case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),O=r(6),v=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_BASE_URL||"https://course-api-express.herokuapp.com/api/";function y(e){var t=Object(a.useState)(null),r=Object(O.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)(null),o=Object(O.a)(c,2),i=o[0],l=o[1],d=Object(a.useState)(!0),j=Object(O.a)(d,2),b=j[0],h=j[1];return Object(a.useEffect)((function(){(function(){var t=Object(x.a)(u.a.mark((function t(){var r,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(v+e);case 3:if(!(r=t.sent).ok){t.next=11;break}return t.next=7,r.json();case 7:n=t.sent,s(n),t.next=12;break;case 11:throw r;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),l(t.t0);case 17:return t.prev=17,h(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,14,17,20]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),{data:n,error:i,loading:b}}var w=function(){var e=y("courses"),t=e.data,r=e.loading,n=e.error,a=y("authors").data;return{courseAuthorData:t&&t.reduce((function(e,t,r,n){return a&&a.map((function(e){return e.id===t.authorId&&(t.authorName=e.name,t.platform=e.platform),t})),n}),0),authors:a,courses:t,loading:r,error:n}},N=function(){return Object(n.jsx)("div",{className:"flex justify-around",children:Object(n.jsx)("div",{className:"inline-flex place-items-center items-center px-4 py-2 border border-transparent text-base leading-6 font-medium text-gray-50 transition ease-in-out duration-150 select-none",children:Object(n.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-20 w-20 text-black",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})},S=r(8),k=r(0),C=Object(a.createContext)();function _(e){var t=Object(a.useState)({name:"",email:"",loggedIn:!1}),r=Object(O.a)(t,2),s=r[0],c=r[1];return Object(n.jsx)(C.Provider,{value:{user:s,setUser:c},children:e.children})}function T(){return Object(a.useContext)(C)}var E=function(){var e=Object(i.h)().slug,t=w(),r=t.courseAuthorData,a=t.loading,s=t.error,c=T().user;if(s)throw s;if(a)return Object(n.jsx)(N,{});var o=r.filter((function(t){return t.slug===e}));return o=o[0],Object(n.jsx)("article",{className:"max-w-screen-sm border w-11/12 sm:w-2/3 mx-auto border-gray-400 rounded-lg md:p-4 bg-white sm:py-3 px-2 mt-10",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"m-2",children:Object(n.jsxs)("div",{className:"flex items-center",children:[Object(n.jsx)("div",{className:"mr-2",children:Object(n.jsxs)(k.b.Provider,{value:{className:"rounded-lg",size:38},children:[o.platform&&-1!==o.platform.indexOf("pluralsight")&&Object(n.jsx)(S.b,{className:" bg-gradient-to-b from-red-300 to-pink-700 text-gray-50"}),o.platform&&-1!==o.platform.indexOf("linkedin")&&Object(n.jsx)(S.a,{className:"text-blue-700"}),o.platform&&-1!==o.platform.indexOf("udemy")&&Object(n.jsx)(S.c,{className:"text-red-600"})]})}),Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:"text text-gray-700 font-semibold",children:o.authorName})})]})}),Object(n.jsxs)("div",{className:"pl-12 md:pl-10 xs:pl-10",children:[Object(n.jsx)("h2",{className:"text-2xl font-bold mb-2 leading-7",children:o.title}),Object(n.jsx)("div",{className:"mb-2",children:Object(n.jsxs)("p",{className:"text-sm text-gray-600 p-1 hover:text-black",children:[Object(n.jsx)("span",{className:"text-opacity-50",children:"#"}),o.category]})}),Object(n.jsx)("div",{className:"mb-1 leading-6",children:o.description})]}),c.loggedIn&&Object(n.jsxs)("div",{className:"mx-auto py-8 px-10 sm:p-16 justify-between flex flex-wrap max-w-screen-sm overflow-hidden",children:[Object(n.jsx)(l.b,{className:"pt-2",to:"/update-course/".concat(e),children:Object(n.jsx)("button",{className:"shadow-2xl hover:scale-110 transform font-extrabold uppercase py-4 px-8 bg-blue-500 rounded-3xl text-blue-200",children:"Update"})}),Object(n.jsx)(l.b,{className:"pt-2",to:"/",onClick:function(){return m("courses/",o._id)},children:Object(n.jsx)("button",{className:"shadow-2xl hover:scale-110 transform font-extrabold uppercase py-4 px-8 bg-red-500 rounded-3xl text-red-200",children:"Delete"})})]})]})})},I=r(14),A=r(9);var P=function(e){var t="bg-gray-50 appearance-none border-2 w-full rounded py-2 px-4 text-gray-800 leading-tight focus:outline-none focus:bg-white border-gray-200 focus:border-lightblue-800";return e.error&&e.error.length>0&&(t+=" border-red-500"),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{className:"block text-gray-800 font-bold mb-1 pr-4 pt-2 capitalize",htmlFor:e.id,children:e.label}),Object(n.jsx)("input",{id:e.id,name:e.name,type:e.type,onChange:e.onChange,value:e.value,className:t}),e.error&&Object(n.jsx)("div",{className:"pt-2 text-red-500 text-xs italic",children:e.error})]})};var D=function(e){var t=e.onSubmit,r=e.onChange,a=e.course,s=e.authors,c=e.errors,o=e.loading,i=e.error;if(i)throw i;return o?Object(n.jsx)(N,{}):Object(n.jsxs)("form",{className:"w-full max-w-sm mx-auto py-20 px-2",onSubmit:t,children:[Object(n.jsx)(P,{id:"title",label:"Title",onChange:r,name:"title",value:a.title,error:c.title}),Object(n.jsx)("label",{className:"block text-gray-800 font-bold mb-1 pr-4 pt-2 capitalize",htmlFor:"author",children:"Author"}),Object(n.jsxs)("select",{id:"author",name:"authorId",onChange:r,value:a.authorId||"",className:"bg-gray-50 border-2 w-full rounded py-2 px-4 text-gray-800 leading-tight focus:outline-none focus:bg-white ".concat(c.authorId?"border-red-500":"border-gray-200"," focus:border-lightblue-800"),children:[Object(n.jsx)("option",{value:""}),null===s||void 0===s?void 0:s.map((function(e,t){return Object(n.jsx)("option",{value:e.id,children:e.name},t)}))]}),c.authorId&&Object(n.jsx)("div",{className:"pt-2 text-red-500 text-xs italic",children:c.authorId}),Object(n.jsx)(P,{id:"category",label:"Category",name:"category",onChange:r,value:a.category,error:c.category}),Object(n.jsx)("label",{className:"block text-gray-800 font-bold mb-1 pr-4 pt-2 capitalize",htmlFor:"description",children:"Description"}),Object(n.jsx)("textarea",{id:"description",name:"description",onChange:r,value:a.description,error:c.description,className:"bg-gray-50 border-2 w-full rounded py-2 px-4 text-gray-800 leading-tight focus:outline-none focus:bg-white appearance-none ".concat(c.description?"border-red-500":"border-gray-200"," focus:border-blue-800")}),Object(n.jsx)("label",{className:"block text-gray-800 font-bold mb-1 pr-4 pt-2 capitalize",htmlFor:"finished",children:"Finished?"}),Object(n.jsx)("input",{id:"finished",name:"finished",type:"checkbox",checked:a.finished,onChange:r,value:a.finished,className:'bg-gray-50 border-2 w-1/6 rounded py-2 px-4 "border-gray-200'}),Object(n.jsx)("button",{className:"mx-auto my-10 shadow-2xl hover:text-gray-50 flex bg-blue-200 hover:bg-blue-800 focus:shadow-outline focus:outline-none text-blue-800 text-xl font-extrabold py-3 px-6 rounded-xl",type:"submit",children:"Save Course"})]})},R=function(e){var t=e.slug,r=w(),s=r.courseAuthorData,c=r.authors,o=r.loading,l=r.error,d=Object(i.g)(),u=Object(a.useState)({}),x=Object(O.a)(u,2),j=x[0],m=x[1],p=Object(a.useState)({id:null,slug:"",title:"",authorId:null,category:"",description:"",finished:!1}),f=Object(O.a)(p,2),g=f[0],v=f[1];var y=function(e){var t,r=e.target;v(Object(A.a)(Object(A.a)({},g),{},Object(I.a)({id:g.id||s.length+1,slug:(t=g.title,t.replace(/[^a-z0-9_]+/gi,"-").replace(/^-|-$/g,"").toLowerCase())},r.name,r.value))),"finished"===r.name&&v(Object(A.a)(Object(A.a)({},g),{},{finished:!g.finished}))};if(t){var N=function(e){return null===s||void 0===s?void 0:s.filter((function(t){return t.slug===e}))}(t);return N&&N[0]._id!==g._id&&v(N[0]),Object(n.jsxs)("div",{children:[Object(n.jsx)("section",{className:"w-full pt-10",children:Object(n.jsx)("p",{className:"mx-auto text-center font-extrabold sm:text-lg max-w-screen-md text-gray-800",children:"Use this form to update the course"})}),Object(n.jsx)(D,{authors:c,courses:s,onSubmit:function(e){e.preventDefault(),h("courses/",g._id,g).then((function(){d.goBack()})).catch((function(e){console.log({err:e})}))},onChange:y,course:g,errors:j,loading:o,error:l})]})}return Object(n.jsxs)("div",{children:[Object(n.jsx)("section",{className:"w-full pt-10",children:Object(n.jsx)("p",{className:"mx-auto text-center font-extrabold sm:text-lg max-w-screen-md text-gray-800",children:"Use this form to update the course"})}),Object(n.jsx)(D,{authors:c,courses:s,onSubmit:function(e){e.preventDefault(),function(){var e={};return g.title||(e.title="Title is required"),g.authorId||(e.authorId="Author is required"),g.category||(e.category="Category is required"),g.description||(e.description="Description is required"),m(e),0===Object.keys(e).length}()&&b("courses",g).then((function(){d.push("/")})).catch((function(e){console.log({err:e})}))},onChange:y,course:g,errors:j,loading:o,error:l})]})},U=function(e){var t=Object(a.useState)(""),r=Object(O.a)(t,2),s=r[0],c=r[1];return s!==e.match.params.slug&&c(e.match.params.slug),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(R,{slug:s})})},z=function(e){var t=e.title,r=e.finished,a=e.slug,s=e.author,c=e.platform;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(n.jsxs)("div",{className:"flex items-center",children:[Object(n.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:Object(n.jsx)("div",{className:"h-10 w-10 rounded-full",children:Object(n.jsxs)(k.b.Provider,{value:{className:"rounded-lg",size:38},children:[-1!==(null===c||void 0===c?void 0:c.indexOf("pluralsight"))&&Object(n.jsx)(S.b,{className:" bg-gradient-to-b from-red-300 to-pink-700 text-gray-50"}),-1!==(null===c||void 0===c?void 0:c.indexOf("linkedin"))&&Object(n.jsx)(S.a,{className:"text-blue-700"}),-1!==(null===c||void 0===c?void 0:c.indexOf("udemy"))&&Object(n.jsx)(S.c,{className:"text-red-600"})]})})}),Object(n.jsxs)("div",{className:"ml-4",children:[Object(n.jsx)("div",{className:"text-sm font-medium text-gray-900",children:s}),Object(n.jsx)("div",{className:"text-sm text-gray-500 capitalize",children:c})]})]})}),Object(n.jsx)("td",{className:"px-6 py-4",children:Object(n.jsx)(l.b,{to:"/course/".concat(a),children:Object(n.jsx)("div",{className:"text-sm text-gray-900",children:t})})}),Object(n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:r?Object(n.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Finished"}):Object(n.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"In Progress"})})]})},F=function(){var e=w(),t=e.courseAuthorData,r=e.loading,a=e.error;if(a)throw a;return r?Object(n.jsx)(N,{}):Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"flex flex-col py-10 mx-4",children:Object(n.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(n.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(n.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(n.jsx)("thead",{className:"bg-gray-50",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),Object(n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),Object(n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),Object(n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((function(e){return Object(n.jsx)(z,{title:e.title,slug:e.slug,category:e.category,author:e.authorName,platform:e.platform,finished:e.finished},e.id)}))})]})})})})})})},L=function(){var e=Object(a.useState)(!1),t=Object(O.a)(e,2),r=t[0],s=t[1],c=Object(a.useRef)();function o(e){c.current&&!c.current.contains(e.target)&&s(!1)}return Object(a.useEffect)((function(){return document.addEventListener("click",o,!0),function(){document.removeEventListener("click",o,!0)}})),Object(n.jsx)("div",{ref:c,onKeyDown:function(e){27===e.keyCode&&s(!1)},children:Object(n.jsxs)("div",{className:"relative inline-block text-left z-10",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("button",{type:"button",onClick:function(){return s(!r)},className:"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-pink-500",id:"options-menu","aria-haspopup":"true","aria-expanded":"true",children:["Admin",Object(n.jsx)("svg",{className:"-mr-1 ml-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(n.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),r&&Object(n.jsxs)("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:[Object(n.jsx)("div",{className:"py-1",children:Object(n.jsx)(l.b,{to:"/create-course",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:"Create Course"})}),Object(n.jsxs)("div",{className:"py-1",children:[Object(n.jsx)(l.b,{to:"/authors",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:"Authors List"}),Object(n.jsx)(l.b,{to:"/create-author",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:"Create Author"})]})]})]})})},J=function(){var e=T(),t=e.user,r=e.setUser;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"h-screen",children:[Object(n.jsx)("nav",{className:"w-full ".concat(t.loggedIn?"justify-between":"justify-end"," flex flex-wrap p-10"),children:t.loggedIn?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(l.b,{to:"/",onClick:function(){sessionStorage.removeItem("jwt"),r({loggedIn:!1})},children:Object(n.jsx)("button",{className:"capitalize font-bold text-xl transform hover:text-white hover:scale-110 bg-pink-500 text-pink-100 py-3 px-6 rounded-3xl shadow-2xl",children:"sign out"})}),Object(n.jsx)("div",{className:"flex flex-wrap justify-end items-center",children:Object(n.jsx)(L,{})})]}):Object(n.jsx)(l.b,{to:"/login",children:Object(n.jsx)("button",{className:"capitalize font-bold text-xl transform hover:text-white hover:scale-110 bg-pink-500 text-pink-100 py-3 px-6 rounded-3xl shadow-2xl",children:"sign in"})})}),Object(n.jsx)("div",{className:"h-20 sm:h-1/4 flex items-center justify-items-center",children:Object(n.jsx)("div",{className:"relative w-full",children:Object(n.jsx)("p",{className:"w-full text-center text-3xl sm:text-6xl tracking-tight font-extrabold absolute",children:"My Courses Page"})})}),Object(n.jsx)("div",{className:"w-full py-10",children:Object(n.jsx)("p",{className:"text-center font-extrabold sm:text-lg max-w-screen-sm mx-auto",children:"This is a list of all the courses that I have done in the past + the ones I'm currenlty working on."})}),Object(n.jsx)(F,{})]})})},W=function(e){var t=e.onSubmit,r=e.onChange,a=e.author,s=e.errors,c=e.loading,o=e.error;if(o)throw o;return c?Object(n.jsx)(N,{}):Object(n.jsxs)("form",{className:"w-full max-w-sm mx-auto py-20 px-2",onSubmit:t,children:[Object(n.jsx)(P,{id:"name",label:"name",onChange:r,name:"name",value:a.name,error:s.name}),Object(n.jsx)(P,{id:"platform",label:"platform",name:"platform",onChange:r,value:a.platform,error:s.platform}),Object(n.jsx)("button",{className:"mx-auto my-10 shadow-2xl hover:text-gray-50 flex bg-blue-200 hover:bg-blue-800 focus:shadow-outline focus:outline-none text-blue-800 text-xl font-extrabold py-3 px-6 rounded-xl",type:"submit",children:"Save Author"})]})},B=function(e){var t=e.mongoId,r=y("authors"),s=r.data,c=r.loading,o=r.error,l=Object(i.g)(),d=Object(a.useState)({}),u=Object(O.a)(d,2),x=u[0],j=u[1],b=Object(a.useState)({id:null,name:"",platform:""}),h=Object(O.a)(b,2),m=h[0],g=h[1];var v,w=function(e){var t=e.target;g(Object(A.a)(Object(A.a)({},m),{},Object(I.a)({id:m.id||s.length+1},t.name,t.value)))};if(t){var N=(v=t,null===s||void 0===s?void 0:s.filter((function(e){return e._id===v})));return N&&N[0]._id!==m._id&&g(N[0]),Object(n.jsxs)("div",{children:[Object(n.jsx)("section",{className:"w-full pt-10",children:Object(n.jsx)("p",{className:"text-center font-extrabold sm:text-lg max-w-screen-md text-gray-800",children:"Use this form to update the author"})}),Object(n.jsx)(W,{author:m,authors:s,onSubmit:function(e){e.preventDefault(),f("authors/",m._id,m).then((function(){l.push("/")})).catch((function(e){console.log({err:e})}))},onChange:w,errors:x,loading:c,error:o})]})}return Object(n.jsxs)("div",{children:[Object(n.jsx)("section",{className:"w-full pt-10",children:Object(n.jsx)("p",{className:"text-center font-extrabold sm:text-lg max-w-screen-md text-gray-800",children:"Use this form to create an author"})}),Object(n.jsx)(W,{author:m,authors:s,onSubmit:function(e){e.preventDefault(),function(){var e={};return m.name||(e.name="Name is required"),m.id||(e.id="Id is required"),m.platform||(e.platform="Platform is required"),j(e),0===Object.keys(e).length}()&&p("authors",m).then((function(){l.push("/")})).catch((function(e){console.log({err:e})}))},onChange:w,errors:x,loading:c,error:o})]})},H=function(e){var t=Object(a.useState)(""),r=Object(O.a)(t,2),s=r[0],c=r[1];return s!==e.match.params.id&&c(e.match.params.id),Object(n.jsx)("div",{children:Object(n.jsx)(B,{mongoId:s})})},K=function(){var e=Object(i.h)().id,t=y("authors"),r=t.data,a=t.loading,s=t.error;if(s)throw s;if(a)return Object(n.jsx)(N,{});var c=r.filter((function(t){return t._id===e}));return c=c[0],Object(n.jsx)("article",{className:"max-w-screen-sm border w-11/12 sm:w-2/3 mx-auto border-gray-400 rounded-lg md:p-4 bg-white sm:py-3 px-2 mt-10",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"m-2",children:Object(n.jsxs)("div",{className:"flex items-center",children:[Object(n.jsx)("div",{className:"mr-2",children:Object(n.jsxs)(k.b.Provider,{value:{className:"rounded-lg",size:38},children:[c.platform&&-1!==c.platform.indexOf("pluralsight")&&Object(n.jsx)(S.b,{className:" bg-gradient-to-b from-red-300 to-pink-700 text-gray-50"}),c.platform&&-1!==c.platform.indexOf("linkedin")&&Object(n.jsx)(S.a,{className:"text-blue-700"}),c.platform&&-1!==c.platform.indexOf("udemy")&&Object(n.jsx)(S.c,{className:"text-red-600"})]})}),Object(n.jsx)("div",{children:Object(n.jsx)("p",{className:"text text-gray-700 font-semibold",children:c.name})})]})}),Object(n.jsxs)("div",{className:"mx-auto py-8 px-10 sm:p-16 justify-between flex flex-wrap max-w-screen-sm overflow-hidden",children:[Object(n.jsx)(l.b,{className:"pt-2",to:"/update-author/".concat(e),children:Object(n.jsx)("button",{className:"shadow-2xl hover:scale-110 transform font-extrabold uppercase py-4 px-8 bg-blue-500 rounded-3xl text-blue-200",children:"Update"})}),Object(n.jsx)(l.b,{className:"pt-2",to:"/",onClick:function(){return g("authors/",c._id)},children:Object(n.jsx)("button",{className:"shadow-2xl hover:scale-110 transform font-extrabold uppercase py-4 px-8 bg-red-500 rounded-3xl text-red-200",children:"Delete"})})]})]})})},q=function(e){var t=e.name,r=e.platform,a=e.mongoId;return Object(n.jsx)("tr",{children:Object(n.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(n.jsxs)("div",{className:"flex items-center",children:[Object(n.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:Object(n.jsx)("div",{className:"h-10 w-10 rounded-full",children:Object(n.jsxs)(k.b.Provider,{value:{className:"rounded-lg",size:38},children:[-1!==(null===r||void 0===r?void 0:r.indexOf("pluralsight"))&&Object(n.jsx)(S.b,{className:" bg-gradient-to-b from-red-300 to-pink-700 text-gray-50"}),-1!==(null===r||void 0===r?void 0:r.indexOf("linkedin"))&&Object(n.jsx)(S.a,{className:"text-blue-700"}),-1!==(null===r||void 0===r?void 0:r.indexOf("udemy"))&&Object(n.jsx)(S.c,{className:"text-red-600"})]})})}),Object(n.jsx)(l.b,{to:"/author/".concat(a),children:Object(n.jsxs)("div",{className:"ml-4",children:[Object(n.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t}),Object(n.jsx)("div",{className:"text-sm text-gray-500 capitalize",children:r})]})})]})})})},V=function(){var e=y("authors"),t=e.data,r=e.loading,a=e.error;if(a)throw a;return r?Object(n.jsx)(N,{}):Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"flex flex-col py-10 mx-4",children:Object(n.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(n.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(n.jsx)("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(n.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(n.jsx)("thead",{className:"bg-gray-50",children:Object(n.jsx)("tr",{children:Object(n.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"})})}),Object(n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((function(e){return Object(n.jsx)(q,{name:e.name,platform:e.platform,mongoId:e._id},e.id)}))})]})})})})})})},M=function(){return Object(n.jsx)("div",{children:"Sorry we didnt find your page"})},G=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_BASE_URL||"https://course-api-express.herokuapp.com/auth/",$=function(){var e=Object(x.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(G+"signin/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"omit",body:JSON.stringify(t)});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(x.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(G+"signout/",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),X={isAuthenticated:function(){return"undefined"!=typeof window&&(!!sessionStorage.getItem("jwt")&&JSON.parse(sessionStorage.getItem("jwt")))},authenticate:function(e,t){"undefined"!==typeof window&&sessionStorage.setItem("jwt",JSON.stringify(e)),t()},clearJWT:function(e){"undefined"!==typeof window&&sessionStorage.removeItem("jwt"),e(),Q().then((function(e){document.cookie="t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}))}},Y=function(e){var t=T().setUser,r=Object(a.useState)({email:"",password:"",error:"",redirectToReferrer:!1}),s=Object(O.a)(r,2),c=s[0],o=s[1],l=function(e){return function(t){o(Object(A.a)(Object(A.a)({},c),{},Object(I.a)({},e,t.target.value)))}},d=(e.location.state||{from:{pathname:"/"}}).from;return c.redirectToReferrer?Object(n.jsx)(i.a,{to:d}):Object(n.jsxs)("form",{className:"w-full max-w-sm mx-auto py-20 px-2",onSubmit:function(e){e.preventDefault();var r={email:c.email||void 0,password:c.password||void 0};$(r).then((function(e){e.error?o(Object(A.a)(Object(A.a)({},c),{},{error:e.error})):X.authenticate(e,(function(){o(Object(A.a)(Object(A.a)({},c),{},{loggedIn:!0,error:"",redirectToReferrer:!0})),t({loggedIn:!0})}))}))},children:[Object(n.jsx)(P,{id:"email",label:"email",type:"email",onChange:l("email"),name:"email",value:c.email,error:c.error}),Object(n.jsx)(P,{id:"password",label:"password",name:"password",type:"password",onChange:l("password"),value:c.password,error:c.error}),Object(n.jsx)("button",{className:"mx-auto my-10 shadow-2xl hover:text-gray-50 flex bg-blue-200 hover:bg-blue-800 focus:shadow-outline focus:outline-none text-blue-800 text-xl font-extrabold py-3 px-6 rounded-xl",type:"submit",children:"Log In"})]})};var Z=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"max-w-screen-xl mx-auto",children:Object(n.jsxs)(i.d,{children:[Object(n.jsx)(i.b,{path:"/",exact:!0,component:J}),Object(n.jsx)(i.b,{path:"/login",component:Y}),Object(n.jsx)(i.b,{path:"/authors",component:V}),Object(n.jsx)(i.b,{path:"/course/:slug",component:E}),Object(n.jsx)(i.b,{path:"/author/:id",component:K}),Object(n.jsx)(i.b,{path:"/create-course",component:U}),Object(n.jsx)(i.b,{path:"/update-course/:slug",component:U}),Object(n.jsx)(i.b,{path:"/create-author",component:H}),Object(n.jsx)(i.b,{path:"/update-author/:id",component:H}),Object(n.jsx)(i.b,{component:M})]})})})},ee=r(24),te=r(25),re=r(27),ne=r(26),ae=function(e){Object(re.a)(r,e);var t=Object(ne.a)(r);function r(e){var n;return Object(ee.a)(this,r),(n=t.call(this,e)).state={hasError:!1},n}return Object(te.a)(r,[{key:"render",value:function(){return this.state.hasError?Object(n.jsx)("h1",{children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),r}(s.a.Component);o.a.render(Object(n.jsx)(ae,{children:Object(n.jsx)(l.a,{children:Object(n.jsx)(_,{children:Object(n.jsx)(Z,{})})})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.2b1a68b1.chunk.js.map